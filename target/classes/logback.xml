<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <!--把 target修改为 System.err，默认是System.out-->
        <target>System.err</target>
        <encoder>
            <pattern>%-4relative [%thread] %-5level %logger{35} - %msg %n</pattern>
        </encoder>
    </appender>


    <appender name="FILE" class="ch.qos.logback.core.FileAppender">
        <!--日志文件位置，可以是绝对路径或相对路径（运行jar所在为根目录）-->
        <!--使用时间片：每次重启项目时都会创建一个新日志文件-->
        <file>testFile.log</file>
        <!--true:表示会在原来日志内容后面追加日志；false:每次重启项目都会清空日志文件-->
        <!--无论是否使用时间片作为文件名，只要重启项目时文件名存在就会被清空-->
        <append>true</append>
        <!-- true：表示立即刷新输出流，保证日志不丢失；false:不会立即刷新，可以提高日志吞吐量 -->
        <!--这个属性所有日志类型都有-->
        <immediateFlush>true</immediateFlush>

        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS}  %-4relative [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>

    <root level="DEBUG">
        <appender-ref ref="FILE" />
        <appender-ref ref="STDOUT" />
    </root>

</configuration>

